[registrar]
version = "2.4"

# The binding address and port for the registrar server - aligned with docker-compose.yml
ip = 0.0.0.0
port = 8891
tls_port = 8890

# Updated to use explicit path that matches what's configured in docker-compose.yml
tls_dir = /var/lib/keylime/cv_ca

# Explicit path to server key that matches certificate generation in docker-compose.yml
server_key = /var/lib/keylime/cv_ca/server-private.pem

# Set the password used to decrypt the private key file
server_key_password = 

# Explicit path to server certificate that matches certificate generation in docker-compose.yml
server_cert = /var/lib/keylime/cv_ca/server-cert.crt

# Explicit path to trusted CA file that matches certificate generation in docker-compose.yml
trusted_client_ca = ["/var/lib/keylime/cv_ca/cacert.crt"]

[database]
# Updated database path to match the environment variable in docker-compose.yml
database_url = sqlite:////var/lib/keylime/reg_data.sqlite
pool_size = 20
max_overflow = 10
drivername = sqlite
# Fixed format for db_page_size to avoid parsing error
db_page_size = 4096
max_session_time = 1800

# Durable Attestation parameters
# For enabling Persistent Store/Transparency Log
persistent_store_url = 
transparency_log_url = 
time_stamp_authority_url = 
time_stamp_authority_certs_path = 

# Format and encoding of the stored attestation artifacts
persistent_store_format = json
persistent_store_encoding = 

# Digest algorithm for signatures
transparency_log_sign_algo = sha256

# Agent attributes to be signed by the registrar
signed_attributes = 

# What TPM-based identity is allowed to be used to register agents
accept_tpm_identity_ek = ekcert,pubkey
accept_tpm_identity_iak = default